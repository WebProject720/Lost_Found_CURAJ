---
import axios from "axios";
import { SERVER } from "../../constants.astro";

type data = {
    username: String;
    enroll: String;
    password: String;
};
export const RegisterRequest = async (data: data) => {
    try {
        const response = await axios.post(SERVER + "/users/register", data);
        console.log(response);
        return {
            status: true,
            data: response.data, // Extract actual data from response
            msg: "Registration Successful",
        };
    } catch (error: any) {
        const errorData = error?.response?.data; // Safely handle error data
        console.log(errorData || error);
        return {
            status: false,
            error: errorData || error,
            msg: "Registration Failed!",
        };
    }
};
---
